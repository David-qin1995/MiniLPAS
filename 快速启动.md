# å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“¦ ç¼–è¯‘æ­¥éª¤

### 1. ç¼–è¯‘åç«¯

```powershell
cd D:\code\MiniLPAS\web-backend

# æ¸…é™¤ä¹‹å‰çš„JAVA_HOMEï¼ˆå¦‚æœæœ‰é”™è¯¯çš„è®¾ç½®ï¼‰
Remove-Item Env:\JAVA_HOME -ErrorAction SilentlyContinue

# ç¼–è¯‘ï¼ˆGradleä¼šè‡ªåŠ¨ä¸‹è½½Java 21ï¼‰
.\gradlew.bat clean build bootJar --no-daemon
```

**ç¼–è¯‘äº§ç‰©**: `web-backend\build\libs\minilpa-backend.jar`

### 2. ç¼–è¯‘ä»£ç†æœåŠ¡

```powershell
cd D:\code\MiniLPAS\local-agent

# ç¼–è¯‘
.\gradlew.bat clean build --no-daemon
```

**ç¼–è¯‘äº§ç‰©**: `local-agent\build\libs\minilpa-agent.jar`

### 3. æ„å»ºå‰ç«¯ï¼ˆå¯é€‰ï¼Œå¼€å‘æ¨¡å¼ä¸éœ€è¦ï¼‰

```powershell
cd D:\code\MiniLPAS\web-frontend

# å¦‚æœè¿˜æ²¡å®‰è£…ä¾èµ–
npm install

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

## ğŸš€ è¿è¡ŒæœåŠ¡

### æ–¹å¼1ï¼šåˆ†åˆ«å¯åŠ¨ï¼ˆæ¨èï¼Œä¾¿äºæŸ¥çœ‹æ—¥å¿—ï¼‰

#### ç»ˆç«¯1 - åç«¯æœåŠ¡

```powershell
cd D:\code\MiniLPAS\web-backend
.\gradlew.bat bootRun
```

æˆ–è€…ï¼š

```powershell
cd D:\code\MiniLPAS\web-backend
java -jar build\libs\minilpa-backend.jar
```

#### ç»ˆç«¯2 - ä»£ç†æœåŠ¡

```powershell
cd D:\code\MiniLPAS\local-agent
.\gradlew.bat run
```

æˆ–è€…ï¼š

```powershell
cd D:\code\MiniLPAS\local-agent
java -jar build\libs\minilpa-agent.jar
```

#### ç»ˆç«¯3 - å‰ç«¯æœåŠ¡

```powershell
cd D:\code\MiniLPAS\web-frontend
npm run dev
```

### æ–¹å¼2ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬

```powershell
cd D:\code\MiniLPAS
.\æœ¬åœ°å¯åŠ¨.ps1
```

è¿™ä¼šè‡ªåŠ¨åœ¨æ–°çª—å£ä¸­å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚

## âœ… éªŒè¯è¿è¡Œ

### æ£€æŸ¥æœåŠ¡çŠ¶æ€

1. **åç«¯API**: 
   - æµè§ˆå™¨è®¿é—®: http://localhost:8080/api/devices/status
   - æˆ– PowerShell: `Invoke-RestMethod http://localhost:8080/api/devices/status`

2. **å‰ç«¯ç•Œé¢**:
   - æµè§ˆå™¨è®¿é—®: http://localhost:3000

3. **è¿æ¥çŠ¶æ€**:
   - å‰ç«¯é¡µé¢åº”æ˜¾ç¤º"å·²è¿æ¥"ï¼ˆå¦‚æœä»£ç†æœåŠ¡æ­£å¸¸è¿è¡Œï¼‰

## ğŸ”§ å¸¸è§é—®é¢˜

### é—®é¢˜1: Javaç‰ˆæœ¬é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
- æ¸…é™¤JAVA_HOME: `Remove-Item Env:\JAVA_HOME -ErrorAction SilentlyContinue`
- Gradleä¼šè‡ªåŠ¨ä¸‹è½½Java 21ï¼ˆå¦‚æœé…ç½®äº†toolchainï¼‰

### é—®é¢˜2: ç«¯å£è¢«å ç”¨

**æ£€æŸ¥ç«¯å£**:
```powershell
# æ£€æŸ¥8080ç«¯å£
Get-NetTCPConnection -LocalPort 8080

# æ£€æŸ¥3000ç«¯å£
Get-NetTCPConnection -LocalPort 3000
```

**è§£å†³æ–¹æ³•**: åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹

### é—®é¢˜3: å‰ç«¯ç¼–è¯‘é”™è¯¯

**è§£å†³æ–¹æ³•**: ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼Œä¸éœ€è¦æ„å»ºï¼š
```powershell
cd web-frontend
npm run dev
```

## ğŸ“ ä¸‹ä¸€æ­¥

ç¼–è¯‘å®Œæˆåï¼š

1. âœ… è¿è¡Œ `.\æœ¬åœ°å¯åŠ¨.ps1` å¯åŠ¨æ‰€æœ‰æœåŠ¡
2. âœ… è®¿é—® http://localhost:3000 æŸ¥çœ‹ç•Œé¢
3. âœ… æ£€æŸ¥è¿æ¥çŠ¶æ€å’ŒåŠŸèƒ½

---

**æç¤º**: å¦‚æœç¼–è¯‘æ—¶é—´è¾ƒé•¿ï¼ŒGradleå¯èƒ½åœ¨ä¸‹è½½Java 21å’Œä¾èµ–ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

